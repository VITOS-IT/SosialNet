(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{130:function(e,t){e.exports="data:image/png;base64,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"},131:function(e,t,n){e.exports=n.p+"static/media/2.a56b29da.svg"},133:function(e,t,n){e.exports={item:"Post_item__uh1NH"}},160:function(e,t,n){e.exports=n(286)},162:function(e,t,n){},166:function(e,t,n){},20:function(e,t,n){e.exports={nav:"Navbar_nav__kZ8VC",item:"Navbar_item__3VqFo",active:"Navbar_active__2R9hQ",avatar:"Navbar_avatar__1UIco",friendBlock:"Navbar_friendBlock__1KPi4",friendOne:"Navbar_friendOne__2ZuOv"}},28:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__jZ_Km",dialogsItem:"Dialogs_dialogsItem__2bxwT",dialog:"Dialogs_dialog__1mFdy",active:"Dialogs_active__1HVuB",messages:"Dialogs_messages__3FUV0",message:"Dialogs_message__2kpz-"}},286:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);n(162),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(63),s=n.n(o),i=n(24),c=n(25),u=n(27),l=n(26),m=(n(166),n(20)),p=n.n(m),g=n(12),f=function(e){return r.a.createElement("nav",{className:p.a.nav},r.a.createElement("div",{className:p.a.item},r.a.createElement(g.b,{to:"/profile",activeClassName:p.a.active},"Profile")),r.a.createElement("div",{className:"".concat(p.a.item," ")},r.a.createElement(g.b,{to:"/dialogs",activeClassName:p.a.active},"Messages")),r.a.createElement("div",{className:p.a.item},r.a.createElement(g.b,{to:"/news",activeClassName:p.a.active},"News")),r.a.createElement("div",{className:p.a.item},r.a.createElement(g.b,{to:"/users",activeClassName:p.a.active},"Users")),r.a.createElement("div",{className:p.a.item},r.a.createElement("h2",null,"Friends"),r.a.createElement("div",{className:p.a.friendBlock})))},d=function(){return r.a.createElement("div",null,"Some news")},h=n(42),v=n(5),E={messages:[{id:1,message:"Hi"},{id:2,message:"How are you"},{id:3,message:"yo"},{id:4,message:"yo"},{id:5,message:"yo"}],dialogs:[{id:1,name:"Dimych",avatar:"https://download-cs.net/steam/avatars/3412.jpg"},{id:2,name:"Andrew",avatar:"https://download-cs.net/steam/avatars/3412.jpg"},{id:3,name:"Sweta",avatar:"https://download-cs.net/steam/avatars/3412.jpg"},{id:4,name:"Anna",avatar:"https://download-cs.net/steam/avatars/3412.jpg"},{id:5,name:"Den",avatar:"https://download-cs.net/steam/avatars/3412.jpg"}]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n={message:t.newMessageBody,id:e.messages.length+1};return Object(v.a)(Object(v.a)({},e),{},{messages:[].concat(Object(h.a)(e.messages),[n])});default:return e}},b=n(28),j=n.n(b),w=function(e){return r.a.createElement("div",{className:j.a.dialog},r.a.createElement("img",{src:e.avatar,alt:"something"}),r.a.createElement(g.b,{to:"/dialogs/".concat(e.id),activeClassName:j.a.active},e.name))},S=function(e){return r.a.createElement("div",{className:j.a.message},e.message)},P=n(124),A=n(125),y=n(54),T=n(50),k=n.n(T),C=function(e){e.input;var t=e.meta,n=t.touched,a=t.error,o=e.children,s=n&&a;return r.a.createElement("div",{className:k.a.formControl+" "+(s?k.a.error:"")},r.a.createElement("div",null,o),r.a.createElement("div",null,s&&r.a.createElement("span",null,a)))},N=function(e){var t=e.input,n=(e.meta,Object(y.a)(e,["input","meta"]));return r.a.createElement(C,e," ",r.a.createElement("textarea",Object.assign({},t,n)))},I=function(e){var t=e.input,n=(e.meta,Object(y.a)(e,["input","meta"]));return r.a.createElement(C,e," ",r.a.createElement("input",Object.assign({},t,n)))},D=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return r.a.createElement("div",null,r.a.createElement(P.a,Object.assign({placeholder:e,name:t,validate:n,component:a},o)),s)},x=function(e){if(!e)return"Field is required"},F=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},G=F(20),U=Object(A.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(P.a,{component:N,name:"newMessageBody",validate:[x,G],placeholder:"Enter your3 message"})),r.a.createElement("div",null,r.a.createElement("button",null,"Send message")))})),B=function(e){var t=e.dialogsPage.messages.map((function(e){return r.a.createElement(S,{key:e.id,message:e.message})})),n=e.dialogsPage.dialogs.map((function(e){return r.a.createElement(w,{name:e.name,id:e.id,key:e.id,avatar:e.avatar})}));return r.a.createElement("div",null,r.a.createElement("div",{className:j.a.dialogs},r.a.createElement("div",{className:j.a.dialogsItem},n),r.a.createElement("div",{className:j.a.messages},r.a.createElement("div",null,t)),r.a.createElement(U,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))},Y=n(11),H=n(10),R=function(e){return{isAuth:e.auth.isAuth}},L=n(8),M=Object(L.d)(Object(Y.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}(t))}}})),(function(e){var t=function(t){Object(u.a)(a,t);var n=Object(l.a)(a);function a(){return Object(i.a)(this,a),n.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(H.a,{to:"/login"})}}]),a}(r.a.Component);return Object(Y.b)(R)(t)}))(B),_=n(9),Z=n.n(_),z=n(18),K=n(129).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"2a3b6361-7a2b-407a-a076-d17f7c8d9e32"}}),X={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return K.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollowUser:function(e){return K.delete("follow/".concat(e)).then((function(e){return e.data}))},followUser:function(e){return K.post("follow/".concat(e),{}).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. please use profileAPI object"),Q.getProfile(e)}},W=function(){return K.get("auth/me")},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return K.post("auth/login",{email:e,password:t,rememberMe:n})},J=function(){return K.delete("auth/login")},Q={getProfile:function(e){return K.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return K.get("profile/status/"+e)},updateStatus:function(e){return K.put("profile/status",{status:e})}},V=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(v.a)(Object(v.a)({},e),a):e}))},$={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},ee=function(e){return{type:"FOLLOW",userId:e}},te=function(e){return{type:"UNFOLLOW",userId:e}},ne=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},ae=function(e){return{type:"TOGLE_IS_FETCHIMG",isFetching:e}},re=function(e,t){return{type:"TOGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},oe=function(){var e=Object(z.a)(Z.a.mark((function e(t,n,a,r){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(re(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(r(n)),t(re(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(v.a)(Object(v.a)({},e),{},{users:V(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(v.a)(Object(v.a)({},e),{},{users:V(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(v.a)(Object(v.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(v.a)(Object(v.a)({},e),{},{totalUsersCount:t.count});case"TOGLE_IS_FETCHIMG":return Object(v.a)(Object(v.a)({},e),{},{isFetching:t.isFetching});case"TOGLE_IS_FOLLOWING_PROGRESS":return Object(v.a)(Object(v.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(h.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},ie=n(53),ce=n(89),ue=n.n(ce),le=function(e){for(var t=e.totalItemsCount,n=e.currentPage,o=e.onPageChanget,s=e.pageSize,i=e.portionSize,c=void 0===i?10:i,u=Math.ceil(t/s),l=[],m=1;m<=u;m++)l.push(m);var p=Math.ceil(u/c),g=Object(a.useState)(1),f=Object(ie.a)(g,2),d=f[0],h=f[1],v=(d-1)*c+1,E=d*c;return r.a.createElement("div",{className:ue.a.paginator},d>1&&r.a.createElement("button",{onClick:function(){h(d-1)}},"PREV"),l.filter((function(e){return e>=v&&e<=E})).map((function(e){return r.a.createElement("span",{className:n===e&&ue.a.selectedPage,key:e,onClick:function(t){o(e)}}," ",e)})),p>d&&r.a.createElement("button",{onClick:function(){h(d+1)}},"NEXT"))},me=n(90),pe=n.n(me),ge=n(130),fe=n.n(ge),de=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,o=e.follow;return r.a.createElement("div",{key:t.id,className:pe.a.userItem},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(g.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:fe.a,alt:"something",className:pe.a.userPhoto}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status)),r.a.createElement("span",null,r.a.createElement("div",null,"user.location.country"),r.a.createElement("div",null,"user.location.sity"))),r.a.createElement("br",null))},he=function(e){var t=e.currentPage,n=e.totalUsersCount,a=e.pageSize,o=e.onPageChanget,s=e.users,i=Object(y.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanget","users"]);return r.a.createElement("div",null,r.a.createElement(le,{currentPage:t,totalItemsCount:n,pageSize:a,onPageChanget:o,portionSize:10}),r.a.createElement("div",null,s.map((function(e){return r.a.createElement(de,{user:e,follow:i.follow,followingInProgress:i.followingInProgress,unfollow:i.unfollow})}))))},ve=n(131),Ee=n.n(ve),Oe=function(e){return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement("img",{alt:"something",src:Ee.a}))},be=n(132),je=function(e){return e.usersPage.users},we=(Object(be.a)(je,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.usersPage.pageSize}),Se=function(e){return e.usersPage.totalUsersCount},Pe=function(e){return e.usersPage.currentPage},Ae=function(e){return e.usersPage.isFetching},ye=function(e){return e.usersPage.followingInProgress},Te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanget=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(Oe,null):null,r.a.createElement(he,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanget:this.onPageChanget,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress}))}}]),n}(r.a.Component),ke=Object(Y.b)((function(e){return{users:je(e),pageSize:we(e),totalUsersCount:Se(e),currentPage:Pe(e),isFetching:Ae(e),followingInProgress:ye(e)}}),{follow:function(e){return function(){var t=Object(z.a)(Z.a.mark((function t(n){var a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=X.followUser.bind(X),t.next=3,oe(n,e,a,ee);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(z.a)(Z.a.mark((function t(n){var a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=X.unfollowUser.bind(X),t.next=3,oe(n,e,a,te);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:ne,toggleFollowingProgress:re,getUsers:function(e,t){return function(){var n=Object(z.a)(Z.a.mark((function n(a){var r;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ae(!0)),a(ne(e)),n.next=4,X.getUsers(e,t);case 4:r=n.sent,a(ae(!1)),a({type:"SET_USERS",users:r.items}),a({type:"SET_TOTAL_USERS_COUNT",count:r.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(Te),Ce=n(91),Ne=n.n(Ce),Ie=function(e){var t=Object(a.useState)(!1),n=Object(ie.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(e.status),c=Object(ie.a)(i,2),u=c[0],l=c[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){s(!0)}},e.status||"========")),o&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(u)},value:u})))},De=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{className:Ne.a.content,alt:"something",src:"https://p.bigstockphoto.com/GeFvQkBbSLaMdpKXF1Zv_bigstock-Aerial-View-Of-Blue-Lakes-And--227291596.jpg"})),r.a.createElement("div",null,r.a.createElement("img",{alt:"something",src:e.profile.photos.large,className:Ne.a.ava}),r.a.createElement(Ie,{status:e.status,updateStatus:e.updateStatus}),r.a.createElement("div",null,"My name is: ",e.profile.fullName,r.a.createElement("br",null),"looking for job: ",e.profile.lookingForAJob?"yes":"no")))},xe={postsData:[{id:1,message:"Hi, how are you?",likesCount:15},{id:2,message:"Hi, how are youssss?",likesCount:20}],profile:null,status:""},Fe=function(e){return{type:"SET_STATUS",status:e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostText,likesCount:0};return Object(v.a)(Object(v.a)({},e),{},{postsData:[].concat(Object(h.a)(e.postsData),[n])});case"DELETE_POST":return Object(v.a)(Object(v.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.postId}))});case"SET_USER_PROFILE":return Object(v.a)(Object(v.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(v.a)(Object(v.a)({},e),{},{status:t.status});default:return e}},Ue=n(92),Be=n.n(Ue),Ye=n(133),He=n.n(Ye),Re=function(e){return r.a.createElement("div",{className:He.a.item},r.a.createElement("img",{alt:"something",src:"https://forum.nextrp.ru/data/avatars/o/38/38306.jpg?1582704311"}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"Like count ",e.likes)))},Le=F(10),Me=r.a.memo((function(e){var t=e.postsData.map((function(e){return r.a.createElement(Re,{key:e.id,message:e.message,likes:e.likesCount})}));return r.a.createElement("div",null,r.a.createElement("div",{className:Be.a.newPost},r.a.createElement("h3",null,"My posts"),r.a.createElement(_e,{onSubmit:function(t){e.addPost(t.newPostText)}})),r.a.createElement("div",{className:Be.a.item},"posts"),t)})),_e=Object(A.a)({form:"addPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(P.a,{placeholder:"print your post",name:"newPostText",validate:[x,Le],component:N})),r.a.createElement("div",null,r.a.createElement("button",null,"Add post")))})),Ze=Me,ze=Object(Y.b)((function(e){return{postsData:e.profilePage.postsData,newPostT:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(Ze),Ke=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement(De,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(ze,null)):r.a.createElement(Oe,null)},Xe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.athorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement(Ke,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),We=Object(L.d)(Object(Y.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,athorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(z.a)(Z.a.mark((function t(n){var a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.getProfile(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(z.a)(Z.a.mark((function t(n){var a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.getStatus(e);case 2:a=t.sent,n(Fe(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(z.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(Fe(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),H.f)(Xe),qe=n(93),Je=n.n(qe),Qe=function(e){return r.a.createElement("header",{className:Je.a.header},r.a.createElement("img",{alt:"something",src:"https://placeit-assets1.s3-accelerate.amazonaws.com/custom-pages/make-a-gaming-logo/gaming-logo-maker-for-an-rpg-guild.png"}),r.a.createElement("p",null,"#stayhome"),r.a.createElement("div",{className:Je.a.loginBlock},e.isAuth?r.a.createElement("div",null," ",e.login," ",r.a.createElement("button",{onClick:e.logout},"Logout")):r.a.createElement(g.b,{to:"/login"},"Login")))},Ve=n(35),$e="samurai-net/auth/SET_USER_DATA",et={userId:null,email:null,login:null,isAuth:!1},tt=function(e,t,n,a){return{type:$e,payload:{userId:e,email:t,login:n,isAuth:a}}},nt=function(){return function(){var e=Object(z.a)(Z.a.mark((function e(t){var n,a,r,o,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.email,s=a.login,t(tt(r,o,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(v.a)(Object(v.a)({},e),t.payload);default:return e}},rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(Qe,this.props)}}]),n}(r.a.Component),ot=Object(Y.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(z.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:0===e.sent.data.resultCode&&t(tt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(rt),st=Object(A.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement("form",{onSubmit:t},D("email","email",[x],I),D("Password","password",[x],I,{type:""}),D(null,"rememberMe",[x],"input",{type:"checkbox"},"Remember me"),n&&r.a.createElement("div",{className:k.a.formSummaryError},n),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),it=Object(Y.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(z.a)(Z.a.mark((function a(r){var o,s;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("login "+e+" "+t+" "+n),a.next=3,q(e,t,n);case 3:o=a.sent,console.log(o.data),0===o.data.resultCode?r(nt()):(s=o.data.messages.length>0?o.data.messages[0]:"Some error",r(Object(Ve.a)("login",{_error:s})));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(H.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(st,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),ct={initialized:!1},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{initialized:!0});default:return e}},lt={friendItem:[{id:1,name:"Dimych",avatar:"https://download-cs.net/steam/avatars/3412.jpg"},{id:2,name:"Andrew",avatar:"https://download-cs.net/steam/avatars/3412.jpg"},{id:3,name:"Sweta",avatar:"https://download-cs.net/steam/avatars/3412.jpg"}]},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;arguments.length>1&&arguments[1];return e},pt=n(134),gt=n(126),ft=Object(L.c)({profilePage:Ge,dialogsPage:O,navBlock:mt,usersPage:se,auth:at,form:gt.a,app:ut}),dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.d,ht=Object(L.e)(ft,dt(Object(L.a)(pt.a)));window.store=ht;var vt=ht,Et=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(ot,null),r.a.createElement(f,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(H.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(We,null)}}),r.a.createElement(H.b,{path:"/dialogs",render:function(){return r.a.createElement(M,null)}}),r.a.createElement(H.b,{path:"/users",render:function(){return r.a.createElement(ke,null)}}),r.a.createElement(H.b,{path:"/login",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(H.b,{path:"/news",component:d}))):r.a.createElement(Oe,null)}}]),n}(r.a.Component),Ot=Object(L.d)(H.f,Object(Y.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(nt());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(Et),bt=function(e){return r.a.createElement(g.a,{basename:"/SosialNet"},r.a.createElement(Y.a,{store:vt},r.a.createElement(Ot,null)))};s.a.render(r.a.createElement(bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,n){e.exports={"form-control":"FormsContlos_form-control__1mlNi",formControl:"FormsContlos_formControl__2AZxF",error:"FormsContlos_error__1OZIL",formSummaryError:"FormsContlos_formSummaryError__Et050"}},89:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__1OcIb",paginator:"Paginator_paginator__3rLgK"}},90:function(e,t,n){e.exports={userItem:"users_userItem__3IL5O"}},91:function(e,t,n){e.exports={content:"ProfileInfo_content__3iuik",ava:"ProfileInfo_ava__Hnyrx"}},92:function(e,t,n){e.exports={item:"MyPosts_item__k4Pye",newPost:"MyPosts_newPost__BshkQ"}},93:function(e,t,n){e.exports={header:"Header_header__1AX_O",loginBlock:"Header_loginBlock__3F5uq"}}},[[160,1,2]]]);
//# sourceMappingURL=main.9da809a1.chunk.js.map